# ============================================
# Production 환경 설정
# ============================================
# 이 파일은 프로덕션 환경에서 사용됩니다.
# 환경 변수로 모든 민감한 정보를 설정하세요.

spring.application.name=stockknock

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
# 프로덕션 DB 정보는 환경 변수로 설정
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/stockknockdb}
spring.datasource.username=${DB_USERNAME:}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.default_batch_fetch_size=100
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# ============================================
# Server Configuration
# ============================================
server.port=${SERVER_PORT:8080}

# ============================================
# CORS Configuration
# ============================================
# 프로덕션 도메인으로 변경 필요
spring.web.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:https://yourdomain.com}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*

# ============================================
# 이메일 설정 (Gmail OAuth2 권장)
# ============================================
# Gmail SMTP (App Password 사용)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Gmail OAuth2 설정 (권장)
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true
# spring.mail.properties.mail.smtp.starttls.required=true
# spring.mail.properties.mail.smtp.oauth2.enable=true
# spring.mail.properties.mail.smtp.oauth2.client-id=${GMAIL_OAUTH2_CLIENT_ID:}
# spring.mail.properties.mail.smtp.oauth2.client-secret=${GMAIL_OAUTH2_CLIENT_SECRET:}
# spring.mail.properties.mail.smtp.oauth2.refresh-token=${GMAIL_OAUTH2_REFRESH_TOKEN:}
# spring.mail.properties.mail.smtp.oauth2.access-token-url=https://oauth2.googleapis.com/token

# ============================================
# GPT API 설정
# ============================================
gpt.api.key=${OPENAI_API_KEY:}
gpt.api.url=${GPT_API_URL:https://api.openai.com/v1/chat/completions}
gpt.model=${GPT_MODEL:gpt-4o-mini}

# ============================================
# JWT Configuration
# ============================================
# ⚠️ 반드시 64 bytes 이상의 안전한 키를 사용하세요!
# 생성 방법: openssl rand -base64 64 | tr -d '\n'
jwt.secret=${SKJWT_SECRET:}
jwt.expiration=${JWT_EXPIRATION:86400000}

# ============================================
# Stock API Configuration
# ============================================
stock.api.alpha-vantage.key=${ALPHA_VANTAGE_API_KEY:}
stock.api.yahoo-finance.enabled=true
stock.api.twelve-data.key=${TWELVE_DATA_API_KEY:}

# ============================================
# News API 설정
# ============================================
news.api.newsapi.key=${NEWS_API_KEY:}
news.api.enabled=true

# ============================================
# 알림 설정
# ============================================
notification.email.enabled=${NOTIFICATION_EMAIL_ENABLED:false}

# ============================================
# 로깅 설정
# ============================================
logging.level.root=INFO
logging.level.com.sxxm.stockknock=INFO
logging.level.org.springframework.security=WARN

